<!doctype html>
<html>

<head>
  <title>Google Python 3 Class</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
</head>

<body>
  <div class="container mt-4">
    <div class="columns">

      <div class="column is-one-quarter mt-6">
        <aside id="nav" class="menu">

          <ul class="menu-list">
            <li><a class="is-active" data-page="overview">Overview</a></li>
            <li><a data-page="setup">Python Setup</a></li>
          </ul>

          <p class="menu-label">Strings</p>
          <ul class="menu-list">
            <li>
              <a data-page="strings">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-book"></i>
                  </span>
                  <span>Reference</span>
                </span>
              </a>
            </li>
            <li>
              <a data-page="string-exercises">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-clipboard-list"></i>
                  </span>
                  <span>Exercises</span>
                </span>
              </a>
            </li>
          </ul>

          <p class="menu-label">Lists</p>
          <ul class="menu-list">
            <li>
              <a data-page="lists">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-book"></i>
                  </span>
                  <span>Reference</span>
                </span>
              </a>
            </li>
            <li>
              <a data-page="list-exercises">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-clipboard-list"></i>
                  </span>
                  <span>Exercises</span>
                </span>
              </a>
            </li>
          </ul>

          <p class="menu-label">Dicts and Files</p>
          <ul class="menu-list">
            <li>
              <a data-page="dicts-files">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-book"></i>
                  </span>
                  <span>Reference</span>
                </span>
              </a>
            </li>
            <li>
              <a data-page="dict-file-exercises">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-clipboard-list"></i>
                  </span>
                  <span>Exercises</span>
                </span>
              </a>
            </li>
          </ul>

          <p class="menu-label">Regular Expressions</p>
          <ul class="menu-list">
            <li>
              <a data-page="re">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-book"></i>
                  </span>
                  <span>Reference</span>
                </span>
              </a>
            </li>
            <li>
              <a data-page="re-exercise">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-clipboard-list"></i>
                  </span>
                  <span>Exercise</span>
                </span>
              </a>
            </li>
          </ul>

          <p class="menu-label">Utilities</p>
          <ul class="menu-list">
            <li>
              <a data-page="utils">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-book"></i>
                  </span>
                  <span>Reference</span>
                </span>
              </a>
            </li>
            <li>
              <a data-page="copy-special">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-clipboard-list"></i>
                  </span>
                  <span>Copy Special</span>
                </span>
              </a>
            </li>
            <li>
              <a data-page="log-puzzle">
                <span class="icon-text">
                  <span class="icon">
                    <i class="fas fa-clipboard-list"></i>
                  </span>
                  <span>Log Puzzle</span>
                </span>
              </a>
            </li>
          </ul>

        </aside>
      </div>

      <div class="column pl-6">
        <div id="page" class="mb-6"></div>
      </div>
    </div>
  </div>

  <div class="is-hidden">

    <div id="overview">
      <h1 class="title">Google Python 3 Class</h1>
      <div class="block">
        This is a modernization of the original <a href="https://developers.google.com/edu/python"
          target="_blank">Google Python Class</a>. This is not a full replacement of the original class. There is a lot
        of excellent material, including the video series.
      </div>
      <div class="block">
        The code snippets on this site use Python 3 syntax, and there are some minor fixes to help guide you through
        later exercises.
      </div>
      <div class="block">
        In addition to syntax and some standard library imports changing, Python 3 provides syntax for type hints.
        Read more about type hints in the official Python 3 <a href="https://docs.python.org/3/library/typing.html"
          target="_blank">documentation</a>.
      </div>
    </div>

    <div id="setup">
      <h1 class="title">Python Setup</h1>
      <div class="block">
        First of all, you'll need Python 3. You can get the latest version of Python at <a href="https://python.org"
          target="_blank">python.org</a>.
      </div>
      <div class="block">
        Next you'll need to download the exercises. You can get the latest version of the exercises, updated for Python
        3, at this project's <a href="https://github.com/miller-time/google-python-class/releases"
          target="_blank">releases</a> page. Click on <b>Assets</b> under the latest release, then download
        <b>exercises.zip</b>.
      </div>
      <div class="block">
        Aside from the version of Python you'll be using and the <b>exercises.zip</b> file you'll be downloading, there
        is a lot of information on the original Google Python Class
        <a href="https://developers.google.com/edu/python/set-up" target="_blank">Setup</a> page that you may want to
        look over.
      </div>
    </div>

    <div id="strings">
      <h1 class="title">Strings</h1>
      <div class="block">
        The original Google Python Class <a href="https://developers.google.com/edu/python/strings"
          target="_blank">Strings</a> page does an excellent job of introducing the topic, highlighting some useful
        string methods, and visualizing slices.
      </div>
      <div class="block">
        Another excellent resource for Python strings is the official Python documentation. Here are some pages to check
        out:
        <div class="content">
          <ul>
            <li><a href="https://docs.python.org/3/library/string.html" target="_blank">string</a></li>
            <li><a href="https://docs.python.org/3/library/stdtypes.html#string-methods" target="_blank">string
                methods</a></li>
            <li><a href="https://docs.python.org/3/reference/lexical_analysis.html#f-strings"
                target="_blank">f-strings</a></li>
          </ul>
        </div>
      </div>
      <div class="block">
        Once you feel ready, try out the exercises. Use the above pages as a reference if you get stuck.
      </div>
    </div>

    <div id="string-exercises">
      <h1 class="title">String Exercises</h1>
      <div class="block">
        Try out the <b>basic/string1.py</b> and <b>basic/string2.py</b> exercises. You might want to flip back to the
        strings Reference page while coming up with your solutions.
      </div>
    </div>

    <div id="lists">
      <h1 class="title">Lists</h1>
      <div class="block">
        The original Google Python Class <a href="https://developers.google.com/edu/python/lists"
          target="_blank">Lists</a> page has some nice illustrations, some helpful notes about iterating over lists, and
        highlights some useful methods for working with lists.
      </div>
      <div class="block">
        Check out the official Python documentation for more information about
        <a href="https://docs.python.org/3/library/stdtypes.html#lists" target="_blank">lists</a>.
      </div>

      <h2 class="title is-3">Sorting</h2>
      <div class="block">
        The original Google Python Class <a href="https://developers.google.com/edu/python/sorting"
          target="_blank">Sorting</a> page gives a nice overview of sorting in Python.
      </div>
      <div class="block">
        The official Python documentation also has a comprehensive
        <a href="https://docs.python.org/3/howto/sorting.html#sortinghowto" target="_blank">sorting guide</a>.
      </div>

      <div class="block">
        Once you feel ready, try out the exercises. Use the above pages as a reference if you get stuck.
      </div>
    </div>

    <div id="list-exercises">
      <h1 class="title">List Exercises</h1>
      <div class="block">
        Try out the <b>basic/list1.py</b> and <b>basic/list2.py</b> exercises. You might want to flip back to the
        lists Reference page while coming up with your solutions.
      </div>
    </div>

    <div id="dicts-files">
      <h1 class="title">Dicts and Files</h1>
      <div class="block">
        The original Google Python Class <a href="https://developers.google.com/edu/python/dict-files"
          target="_blank">Dicts and Files</a> page does a great job of introducing Python dicts and file operations.
      </div>
      <div class="block">
        Of course the official Python documentation describes
        <a href="https://developers.google.com/edu/python/dict-files" target="_blank">dicts</a>.
      </div>
      <div class="block">
        In the official documentation, you can also read about Python's
        <code><a href="https://docs.python.org/3/library/functions.html#open" target="_blank">open</a></code> function,
        which is used to open files for reading.
      </div>
      <div class="block">
        Once you feel ready, try out the exercises. Use the above pages as a reference if you get stuck.
      </div>
    </div>

    <div id="dict-file-exercises">
      <h1 class="title">Dict and File Exercises</h1>
      <div class="block">
        Try out the <b>basic/wordcount.py</b> and <b>basic/mimic.py</b> exercises. You might want to flip back to the
        dicts and files Reference page while coming up with your solutions.
      </div>
    </div>

    <div id="re">
      <h1 class="title">Regular Expressions</h1>
      <div class="block">
        The original Google Python Class <a href="https://developers.google.com/edu/python/regular-expressions"
          target="_blank">Regular Expressions</a> page includes a gentle introduction to Python's regular expression
        syntax.
      </div>
      <div class="block">
        The official Python documentation for the
        <code><a href="https://docs.python.org/3/library/re.html" target="_blank">re</a></code> module is a great
        reference.
      </div>
      <div class="block">
        Once you feel ready, try out the next exercise. Use the above pages as a reference if you get stuck.
      </div>
    </div>

    <div id="re-exercise">
      <h1 class="title">Regular Expression Exercise</h1>
      <div class="block">
        The next exercise is <b>babynames/babynames.py</b>. The instructions for the exercise can be found on the
        original Google Python Class <a href="https://developers.google.com/edu/python/exercises/baby-names"
          target="_blank">Baby Names</a> page. It is also copied below.
      </div>

      <div class="box">
        <div class="block">
          The Social Security administration has this neat data by year of what names are most popular for babies born
          that year in the USA (see <a href="http://www.socialsecurity.gov/OACT/babynames/" target="_blank">social
            security baby names</a>).
        </div>

        <div class="block">
          The files for this exercise are in the "babynames" directory of the downloaded <b>exercises.zip</b>. Add your
          code in babynames.py. The files baby1990.html baby1992.html ... contain raw html, similar to what you get
          visiting the above social security site. Take a look at the html and think about how you might scrape the data
          out of it.
        </div>

        <h2 class="title is-3">Part 1</h2>
        <div class="block">
          In the babynames.py file, implement the <code>extract_names(filename)</code> function which takes the filename
          of a baby1990.html file and returns the data from the file as a single list -- the year string at the start of
          the list followed by the name-rank strings in alphabetical order.
          <code>['2006', 'Aaliyah 91', 'Abagail 895', 'Aaron 57', ...]</code>.
          Modify <code>main()</code> so it calls your <code>extract_names</code> function and prints what it returns
          (<code>main</code> already has the code for the command line argument parsing). If you get stuck working out
          the regular expressions for the year and each name, solution regular expression patterns are shown at the end
          of this document. Note that for parsing webpages in general, regular expressions don't do a good job, but
          these webpages have a simple and consistent format.
        </div>

        <div class="block">
          Rather than treat the boy and girl names separately, we'll just lump them all together. In some years, a name
          appears more than once in the html, but we'll just use one number per name. Optional: make the algorithm smart
          about this case and choose whichever number is smaller.
        </div>

        <div class="block">
          Build the program as a series of small milestones, getting each step to run/print something before trying the
          next step. This is the pattern used by experienced programmers -- build a series of incremental milestones,
          each with some output to check, rather than building the whole program in one huge step.
        </div>

        <div class="block">
          Printing the data you have at the end of one milestone helps you think about how to re-structure that data for
          the next milestone. Python is well suited to this style of incremental development. For example, first get it
          to the point where it extracts and prints the year and calls <code>sys.exit(0)</code>. Here are some suggested
          milestones:
        </div>

        <div class="content">
          <ul>
            <li>Extract all the text from the file and print it</li>
            <li>Find and extract the year and print it</li>
            <li>Extract the names and rank numbers and print them</li>
            <li>Get the names data into a dict and print it</li>
            <li>Build the <code>[year, 'name rank', ... ]</code> list and print it</li>
            <li>Update <code>main</code> so that it calls <code>extract_names</code></li>
          </ul>
        </div>

        <div class="block">
          Earlier we have had functions just print to standard out. It's more re-usable to have the function
          <b>return</b> the extracted data, so then the caller has the choice to print it or do something else with it.
          (You can still print directly from inside your functions for your little experiments during development.)
        </div>

        <div class="block">
          Have <code>main</code> call <code>extract_names</code> for each command line argument and print a text
          summary. To make the list into a reasonable looking summary text, here's a clever use of <code>join</code>:
        </div>

        <div class="block">
          <pre>text = '\n'.join(mylist) + '\n'</pre>
        </div>

        <div class="block">
          The summary text should look like this for each file:
        </div>

        <div class="block">
          <pre>2006
Aaliyah 91
Aaron 57
Abagail 895
Abbey 695
Abbie 650
...</pre>
        </div>

        <h2 class="title is-3">Part 2</h2>
        <div class="block">
          Suppose instead of printing the text to standard out, we want to write files containing the text. If the flag
          <code>--summaryfile</code> is present, do the following: for each input file foo.html, create a new file
          foo.html.summary that contains the summary text for that file.
        </div>

        <div class="block">
          Once the <code>--summaryfile</code> feature is working, run the program on all the files using <code>*</code>
          like this:
        </div>

        <div class="block">
          <pre>python babynames.py --summaryfile baby*.html</pre>
        </div>

        <div class="block">
          This generates all the summaries in one step. (The standard behavior of the shell is that it expands the
          <code>baby*.html</code> pattern into a list of matching filenames, and then the shell runs babynames.py,
          passing in all those filenames in the <code>sys.argv</code> list.)
        </div>

        <div class="block">
          With the data organized into summary files, you can see patterns over time with shell commands, like this:
        </div>

        <div class="block">
          <pre>$ grep 'Trinity ' *.summary
$ grep 'Nick ' *.summary
$ grep 'Miguel ' *.summary
$ grep 'Emily ' *.summary</pre>
        </div>

        <h3 class="title is-5">Regular expression hints</h3>
        <div id="hints">
          <div class="block">
            <p>year:</p>
            <button class="button" data-hint="year-hint">Reveal</button>
            <div id="year-hint" class="is-hidden">
              <pre>r'Popularity\sin\s(\d\d\d\d)'</pre>
            </div>
          </div>

          <div class="block">
            <p>names:</p>
            <button class="button" data-hint="name-hint">Reveal</button>
            <div id="name-hint" class="is-hidden">
              <pre>r'&lt;td&gt;(\d+)&lt;/td&gt;&lt;td&gt;(\w+)&lt;/td&gt;\&lt;td&gt;(\w+)&lt;/td&gt;'</pre>
            </div>
          </div>
        </div>
        <script src="hints.js"></script>

      </div>
    </div>

    <div id="utils">
      <h1 class="title">Utilities</h1>
      <div class="block">
        In this section, we look at a few of Python's many standard utility modules to solve common problems. Much of
        this reference is adapted from the original Google Python Class
        <a href="https://developers.google.com/edu/python/utilities" target="_blank">Utilities</a> page. Some of the
        utilities mentioned on that page are no longer used in Python (because better replacements exist).
      </div>

      <h3 class="title is-5"><code>os</code></h3>
      <div class="block">
        First of all, there are many useful utilities in Python's <code>os</code> module. The official Python
        documentation for the <code><a href="https://docs.python.org/3/library/os.html" target="_blank">os</a></code>
        module is a great reference. Some highlights:

        <div class="content">
          <ul>
            <li><code>listdir</code></li>
            <li><code>mkdir</code></li>
            <li><code>makedirs</code></li>
            <li><code>remove</code></li>
            <li><code>rename</code></li>
            <li><code>rmdir</code></li>
            <li><code>walk</code></li>
          </ul>
        </div>
      </div>

      <h3 class="title is-5"><code>os.path</code></h3>
      <div class="block">
        Next up is Python's <code>os.path</code> module. Check out the official Python documentation for the
        <code><a href="https://docs.python.org/3/library/os.path.html" target="_blank">os.path</a></code> module. Some
        highlights:

        <div class="content">
          <ul>
            <li><code>os.path.join</code> - <i>very</i> useful for uniform handling of paths on <b>linux</b> (where
              directories are separated by <code>/</code>) and <b>windows</b> (where directories are separated by
              <code>\</code>)
            </li>
            <li><code>abspath</code></li>
            <li><code>basename</code></li>
            <li><code>dirname</code></li>
            <li><code>exists</code></li>
            <li><code>isfile</code></li>
            <li><code>isdir</code></li>
          </ul>
        </div>
      </div>

      <h3 class="title is-5"><code>shutil</code></h3>
      <div class="block">
        The Python <code>shutil</code> module most notably has the <code>shutil.copy</code> function for copying files
        from one location to another. Check out the official Python documentation for the
        <code><a href="https://docs.python.org/3/library/shutil.html" target="_blank">shutil</a></code> module.
      </div>

      <h3 class="title is-5"><code>zipfile</code></h3>
      <div class="block">
        Python has a module called <code>zipfile</code> that can be used to work with zip files. Check out the official
        Python documentation for the
        <code><a href="https://docs.python.org/3/library/zipfile.html" target="_blank">zipfile</a></code> module. Using
        this module, it's easy to create zip files like so:
      </div>

      <div class="block">
        <pre>with ZipFile('spam.zip', 'w') as myzip:
    myzip.write('eggs.txt')</pre>
      </div>

      <div class="block">
        This is handy because not all systems (especially Windows) are guaranteed to have a <code>zip</code> program
        that can be called.
      </div>

      <div class="block">
        In the <b>Copy Special</b> exercise, you'll be able to practice using the <code>os</code>, <code>os.path</code>,
        <code>shutil</code>, and <code>zipfile</code> modules.
      </div>

      <h3 class="title is-5"><code>urllib</code></h3>
      <div class="block">
        Python's <code>urllib</code> module can be used to make requests and parse URLs (among other things). Check out
        the official Python documentation for the
        <code><a href="https://docs.python.org/3/library/urllib.html" target="_blank">urllib</a></code> module. Some
        highlights:

        <div class="content">
          <ul>
            <li><code>urllib.request.urlretrieve</code></li>
            <li><code>urllib.parse.urlparse</code></li>
          </ul>
        </div>

        In the <b>Log Puzzle</b> exercise, you'll be able to practice using the <code>urllib</code> module.
      </div>

      <div class="block">
        Python's documentation recommends using the <a href="https://requests.readthedocs.io/en/master/"
          target="_blank">Requests</a> library for making requests. See Part 4 of the <b>Log Puzzle</b> exercise for a
        guide to installing and using the <code>requests</code> package in Python.
      </div>

      <h3 class="title is-5"><code>venv</code></h3>
      <div class="block">
        The Python <code>venv</code> module can be used to create a Python <b>virtual environment</b>. Check out the
        official Python documentation for the
        <code><a href="https://docs.python.org/3/library/venv.html" target="_blank">venv</a></code> module.
      </div>

      <div class="block">
        In Part 4 of the <b>Log Puzzle</b> exercise, you'll create a virtual environment and install the
        <code>requests</code> package within that virtual environment.
      </div>

      <h3 class="title is-5"><code>subprocess</code></h3>
      <div class="block">
        Another very handle module is Python's <code>subprocess</code> module, which can be used to run another program
        from your script. Python has come a long way over the years and now has the
        <code><a href="https://docs.python.org/3/library/subprocess.html#subprocess.run" target="_blank">subprocess.run</a></code>
        function, which is a very convenient way to run external programs in Python.
      </div>

      <h3 class="title is-5"><code>argparse</code></h3>
      <div class="block">
        The Python <code>argparse</code> module is used in a <i>lot</i> of Python scripts! Check out the official Python
        documentation for the
        <code><a href="https://docs.python.org/3/library/argparse.html" target="_blank">argparse</a></code> module.
      </div>

      <div class="block">
        In the <b>Git Config</b> exercise, you'll get a chance to see how using the <code>argparse</code> module differs
        from the direct use of <code>sys.argv</code> (that can be found in <code>main</code> functions throughout this
        class).
      </div>
    </div>

    <div id="copy-special">
      <h1 class="title">Copy Special Exercise</h1>
      <div class="block">
        The next exercise is <b>copyspecial/copyspecial.py</b>. The instructions for the exercise can be found on the
        original Google Python Class <a href="https://developers.google.com/edu/python/exercises/copy-special"
          target="_blank">Copy Special</a> page. It is also copied below.
      </div>

      <div class="box">
        <div class="block">
          The <b>copyspecial.py</b> program takes one or more directories as its arguments. We'll say that a "special"
          file is one where the name contains the pattern <code>__w__</code> somewhere, where the <code>w</code> is one
          or more word chars. The provided <code>main</code> includes code to parse the command line arguments, but the
          rest is up to you. Write functions to implement the features below and modify <code>main</code> to call your
          functions.
        </div>

        <div class="block">
          Suggested functions for your solution(details below):

          <div class="content">
            <ul>
              <li>
                <code>get_special_paths(dir: str) -> list[str]</code> - returns a list of the absolute paths of the
                special files in the given directory
              </li>
              <li>
                <code>copy_to(paths: list[str], dir: str) -> None</code> - given a list of paths, copies those files
                into the given directory
              </li>
              <li>
                <code>zip_to(paths: list[str], zippath: str)</code> - given a list of paths, zip those files up into the
                given zipfile
              </li>
          </div>
        </div>

        <h2 class="title is-3">Part 1</h2>
        <div class="block">
          Gather a list of the absolute paths of the special files in all the directories. In the simplest case, just
          print that list (here the <code>.</code> after the command is a single argument indicating the current
          directory). Print one absolute path per line.
        </div>

        <div class="block">
          <pre>$ python copyspecial.py .
/Users/miller-time/pycourse/day2/xyz__hello__.txt
/Users/miller-time/pycourse/day2/zz__something__.jpg</pre>
        </div>

        <div class="block">
          We'll assume that names are not repeated across the directories (optional: check that assumption and error out
          if it's violated).
        </div>

        <h2 class="title is-3">Part 2</h2>
        <div class="block">
          If the <code>--todir dir</code> option is present, do not print anything and instead copy the files to the
          given directory, creating it if necessary. Use the Python <code>shutil</code> module for file copying.
        </div>

        <div class="block">
          <pre>$ python copyspecial.py --todir /tmp/fooby .
$ ls /tmp/fooby
xyz__hello__.txt        zz__something__.jpg</pre>
        </div>

        <h2 class="title is-3">Part 3</h2>
        <div class="block">
          If the <code>--tozip zipfile</code> option is present, create the zip file using the Python
          <code>zipfile</code> module.
        </div>

        <div class="block">
          <pre>$ python copyspecial.py --tozip tmp.zip .</pre>
        </div>
      </div>
    </div>

    <div id="log-puzzle">
      <h1 class="title">Log Puzzle Exercise</h1>
      <div class="block">
        The next exercise is <b>logpuzzle/logpuzzle.py</b>. The instructions for the exercise can be found on the
        original Google Python Class <a href="https://developers.google.com/edu/python/exercises/log-puzzle"
          target="_blank">Log Puzzle</a> page. It is also copied below.
      </div>

      <div class="box">
        <div class="block">
          An image of an animal has been broken into many narrow vertical stripe images. The stripe images are on the
          internet somewhere, each with its own URL. The URLs are hidden in a web server log file. Your mission is to
          find the URLs and download all image stripes to re-create the original image.
        </div>

        <div class="block">
          The slice URLs are hidden inside apache log files (the open source <a href="http://httpd.apache.org/"
            target="_blank">apache</a> web server is the most widely used server on the internet). Each log file is from
          some server, and the desired slice URLs are hidden within the logs. The log file encodes what server it comes
          from like this: the log file <b>animal_code.google.com</b> is from the <code>code.google.com</code> server
          (formally, we'll say that the server name is whatever follows the first underbar). The
          <b>animal_code.google.com</b> log file contains the data for the "animal" puzzle image. Although the data in
          the log files has the syntax of a real apache web server, the data beyond what's needed for the puzzle is
          randomized data from a real log file.
        </div>

        <div class="block">
          Here is what a single line from the log file looks like (this really is what apache log files look like):
        </div>

        <div class="block">
          <pre>10.254.254.28 - - [06/Aug/2007:00:14:08 -0700] "GET /foo/talks/ HTTP/1.1"
200 5910 "-" "Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.8.1.4) Gecko/20070515 Firefox/2.0.0.4"</pre>
        </div>

        <div class="block">
          The first few numbers are the address of the requesting browser. The most interesting part is the
          <code>GET path HTTP</code> showing the path of a web request received by the server. The path itself never
          contains spaces, and is separated from the <code>GET</code> and <code>HTTP</code> by spaces (regex suggestion:
          <code>\S</code> (upper case S) matches any non-space char). Find the lines in the log where the string
          "puzzle" appears inside the path, ignoring the many other lines in the log.
        </div>

        <h2 class="title is-3">Part 1</h2>
        <div class="block">
          Complete the <code>read_urls</code> function that extracts the puzzle URLs from inside a log file. Find all
          the "puzzle" path URLs in the log file. Combine the path from each URL with the server name from the filename
          to form a full URL, e.g. <code>http://www.example.com/path/puzzle/from/inside/file</code>. Exclude URLs that
          appear more than once. The <code>read_urls</code> function should return the list of full URLs, sorted into
          alphabetical order and without duplicates. Taking the URLs in alphabetical order will yield the image slices
          in the correct left-to-right order to re-create the original image. In the simplest case, <code>main</code>
          should just print the URLs, one per line.
        </div>

        <div class="block">
          <pre>$ python logpuzzle.py animal_code.google.com
http://code.google.com/something/puzzle-animal-baaa.jpg
http://code.google.com/something/puzzle-animal-baab.jpg
...</pre>
        </div>

        <h2 class="title is-3">Part 2</h2>
        <div class="block">
          Complete the <code>download_images</code> function which takes a sorted list of URLs and a directory. Download
          the image from each URL into the given directory, creating the directory first if necessary (see the
          <code>os</code> module to create a directory, and <code>urllib.request.urlretrieve</code> for downloading a
          url). Name the local image files with a simple scheme like "img0", "img1", "img2", and so on. You may wish to
          print a little "Retrieving..." status output line while downloading each image since it can be slow and it's
          nice to have some indication that the program is working. Each image is a little vertical slice from the
          original. How to put the slices together to re-create the original? It can be solved nicely with a little html
          (knowledge of HTML is not required).
        </div>

        <div class="block">
          The <code>download_images</code> function should also create an <b>index.html</b> file in the directory with
          an <code>img</code> tag to show each local image file. The <code>img</code> tags should all be on one line
          together without separation. In this way, the browser displays all the slices together seamlessly. You do not
          need knowledge of HTML to do this; just create an <b>index.html</b> file that looks like this:
        </div>

        <div class="block">
          <pre>&lt;html&gt;
&lt;body&gt;
&lt;img src="/edu/python/exercises/img0"&gt;&lt;img src="/edu/python/exercises/img1"&gt;&lt;img src="/edu/python/exercises/img2"&gt;...
&lt;/body&gt;
&lt;/html&gt;</pre>
        </div>

        <div class="block">
          Here's what it should look like when you download the animal puzzle:
        </div>

        <div class="block">
          <pre>$ python logpuzzle.py --todir animaldir animal_code.google.com
$ ls animaldir
img0  img1  img2  img3  img4  img5  img6  img7  img8  img9  index.html</pre>
        </div>

        <div class="block">
          When it's all working, opening the <b>index.html</b> in a browser should reveal the original animal image.
          What is the animal in the image?
        </div>

        <h2 class="title is-3">Part 3</h2>
        <div class="block">
          The second puzzle involves an image of a very famous place but depends on some custom sorting. For the first
          puzzle, the URLs can be sorted alphabetically to order the images correctly. In the sort, the whole URL is
          used. However, we'll say that if the URL ends in the pattern <code>-wordchars-wordchars.jpg</code>, e.g.
          <code>http://example.com/foo/puzzle/bar-abab-baaa.jpg</code>, then the sort should use the second word (e.g.
          "baaa") for that URL. So sorting a list of URLs each ending with the <code>word-word.jpg</code> pattern should
          order the URLs by the second word.
        </div>

        <div class="block">
          Extend your code to order such URLs properly, and then you should be able to decode the
          <b>place_code.google.com</b> puzzle which shows a famous place. What place does it show?
        </div>

        <h2 class="title is-3">Part 4</h2>
        <div class="block">
          The official Python documentation for
          <code><a href="https://docs.python.org/3/library/urllib.request.html" target="_blank">urllib.request</a></code>
          recommends using the <a href="https://requests.readthedocs.io/en/master/" target="_blank">Requests</a> package
          for a higher-level HTTP client interface. This is a great opportunity to practice using third party libraries
          in your scripts.
        </div>

        <div class="block">
          You can either work in your existing <b>logpuzzle</b> directory or create a new directory for the new version
          of the puzzle. Within that directory, we want to create a Python
          <a href="https://docs.python.org/3/library/venv.html#venv-def">virtual environment</a> using this command:
        </div>

        <div class="block">
          <pre>python -m venv .venv</pre>
        </div>

        <div class="block">
          Next we want to activate our new virtual environment:
        </div>

        <div class="block">
          <pre>source .venv/bin/activate</pre>
        </div>

        <div class="block">
          <div class="notification is-info">
            <i>Note:</i> The path will be <code>.venv/Scripts/activate</code> on Windows
          </div>
        </div>

        <div class="block">
          Now we want to create a file called <b>requirements.txt</b>, which will contain a list of the third-party
          packages that our script depends on.
        </div>

        <div class="block">
          <pre>requests==2.27</pre>
        </div>

        <div class="block">
          This file ensures that our script will always use version <code>2.27.*</code> of this package. A newer version
          of the package might be available in the future -- feel free to experiment with newer versions if you'd like.
        </div>

        <div class="block">
          Next we need to install the package into our active virtual environment.
        </div>

        <div class="block">
          <pre>pip install -r requirements.txt</pre>
        </div>

        <div class="block">
          And now in the <b>logpuzzle.py</b> script, we can import the new package:
        </div>

        <div class="block">
          <pre>import requests</pre>
        </div>

        <div class="block">
          The goal here is to replace our call to <code>urllib.request.urlretrieve</code>. The <code>requests</code>
          package supports downloading a file from a given URL with the following approach:
        </div>

        <div class="block">
          <pre>r = requests.get(url, stream=True)
with open(filename, 'wb') as fd:
    for chunk in r.iter_content(chunk_size=128):
        fd.write(chunk)</pre>
        </div>

        <div class="block">
          Run your script again to verify that it still works as expected.
        </div>

        <div class="block">
          <pre>$ python logpuzzle.py --todir animaldir animal_code.google.com
$ python logpuzzle.py --todir placedir place_code.google.com</pre>
        </div>

        <div class="block">
          CC Attribution: the images used in this puzzle were made available by their owners under the <a
            href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>
          license, which generously encourages remixes of the content such as this one. The animal image is from the
          user zappowbang at flickr and the place image is from the user booleansplit at flickr.
        </div>
      </div>
    </div>

  </div>

  <script src="nav.js"></script>
</body>

</html>
